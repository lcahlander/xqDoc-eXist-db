<xqdoc:xqdoc xmlns:xqdoc="http://www.xqdoc.org/1.0">
    <xqdoc:control>
        <xqdoc:date>2019-05-14T12:08:24.519-04:00</xqdoc:date>
        <xqdoc:location>java:org.exist.xquery.functions.response.ResponseModule</xqdoc:location>
    </xqdoc:control>
    <xqdoc:module type="library">
        <xqdoc:uri>http://exist-db.org/xquery/response</xqdoc:uri>
        <xqdoc:name>response</xqdoc:name>
        <xqdoc:comment>
            <xqdoc:description>A module for dealing with HTTP responses.</xqdoc:description>
        </xqdoc:comment>
    </xqdoc:module>
    <xqdoc:functions>
        <xqdoc:function>
            <xqdoc:name>response:redirect-to</xqdoc:name>
            <xqdoc:signature>response:redirect-to($uri as xs:anyURI) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Sends a HTTP redirect response (302) to the client.</xqdoc:description>
                <xqdoc:param>$uri The URI to redirect the client to</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>response:set-cookie</xqdoc:name>
            <xqdoc:signature>response:set-cookie($name as xs:string, $value as xs:string) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Sets a HTTP Cookie on the HTTP Response.</xqdoc:description>
                <xqdoc:param>$name The cookie name</xqdoc:param>
                <xqdoc:param>$value The cookie value</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>response:set-cookie</xqdoc:name>
            <xqdoc:signature>response:set-cookie($name as xs:string, $value as xs:string, $max-age as xs:duration?, $secure-flag as xs:boolean?) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Sets a HTTP Cookie on the HTTP Response.</xqdoc:description>
                <xqdoc:param>$name The cookie name</xqdoc:param>
                <xqdoc:param>$value The cookie value</xqdoc:param>
                <xqdoc:param>$max-age? The xs:duration of the cookie</xqdoc:param>
                <xqdoc:param>$secure-flag? The flag for whether the cookie is to be secure (i.e., only transferred using HTTPS)</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>response:set-cookie</xqdoc:name>
            <xqdoc:signature>response:set-cookie($name as xs:string, $value as xs:string, $max-age as xs:duration?, $secure-flag as xs:boolean?, $domain as xs:string?, $path as xs:string?) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Sets a HTTP Cookie on the HTTP Response.</xqdoc:description>
                <xqdoc:param>$name The cookie name</xqdoc:param>
                <xqdoc:param>$value The cookie value</xqdoc:param>
                <xqdoc:param>$max-age? The xs:duration of the cookie</xqdoc:param>
                <xqdoc:param>$secure-flag? The flag for whether the cookie is to be secure (i.e., only transferred using HTTPS)</xqdoc:param>
                <xqdoc:param>$domain? The cookie domain</xqdoc:param>
                <xqdoc:param>$path? The cookie path</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>response:set-date-header</xqdoc:name>
            <xqdoc:signature>response:set-date-header($name as xs:string, $value as xs:string) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Sets a HTTP Header on the HTTP Response.</xqdoc:description>
                <xqdoc:param>$name The header name</xqdoc:param>
                <xqdoc:param>$value The header value</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>response:set-header</xqdoc:name>
            <xqdoc:signature>response:set-header($name as xs:string, $value as xs:string) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Sets a HTTP Header on the HTTP Response.</xqdoc:description>
                <xqdoc:param>$name The header name</xqdoc:param>
                <xqdoc:param>$value The header value</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>response:set-status-code</xqdoc:name>
            <xqdoc:signature>response:set-status-code($code as xs:integer) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Sets a HTTP server status code on the HTTP Response.</xqdoc:description>
                <xqdoc:param>$code The status code</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>response:stream-binary</xqdoc:name>
            <xqdoc:signature>response:stream-binary($binary-data as xs:base64Binary, $content-type as xs:string, $filename as xs:string?) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Streams the binary data to the current servlet response output stream. The ContentType HTTP header is set to the value given in $content-type.Note: the servlet output stream will be closed afterwards and mime-type settings in the prolog will not be passed.</xqdoc:description>
                <xqdoc:param>$binary-data The binary data to stream</xqdoc:param>
                <xqdoc:param>$content-type The ContentType HTTP header value</xqdoc:param>
                <xqdoc:param>$filename? The filename.  If provided, a Content-Disposition header is set for the filename in the HTTP Response</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>response:stream</xqdoc:name>
            <xqdoc:signature>response:stream($content as item()*, $serialization-options as xs:string) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Stream can only be used within a servlet context. It directly streams its input to the servlet's output stream. It should thus be the last statement in the XQuery.</xqdoc:description>
                <xqdoc:param>$content* The source sequence</xqdoc:param>
                <xqdoc:param>$serialization-options The serialization options</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>response:exists</xqdoc:name>
            <xqdoc:signature>response:exists() as xs:boolean</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Returns whether a response object exists.</xqdoc:description>
                <xqdoc:return>xs:boolean : true if the response object exists</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
    </xqdoc:functions>
</xqdoc:xqdoc>