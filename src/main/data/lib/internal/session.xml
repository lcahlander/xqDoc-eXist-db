<xqdoc:xqdoc xmlns:xqdoc="http://www.xqdoc.org/1.0">
    <xqdoc:control>
        <xqdoc:date>2019-05-14T12:08:24.519-04:00</xqdoc:date>
        <xqdoc:location>java:org.exist.xquery.functions.session.SessionModule</xqdoc:location>
    </xqdoc:control>
    <xqdoc:module type="library">
        <xqdoc:uri>http://exist-db.org/xquery/session</xqdoc:uri>
        <xqdoc:name>session</xqdoc:name>
        <xqdoc:comment>
            <xqdoc:description>A module for dealing with the HTTP session.</xqdoc:description>
        </xqdoc:comment>
    </xqdoc:module>
    <xqdoc:functions>
        <xqdoc:function>
            <xqdoc:name>session:create</xqdoc:name>
            <xqdoc:signature>session:create() as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Initialize an HTTP session if not already present</xqdoc:description>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:clear</xqdoc:name>
            <xqdoc:signature>session:clear() as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Removes all attributes from the current HTTP session. Does NOT invalidate the session.</xqdoc:description>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:encode-url</xqdoc:name>
            <xqdoc:signature>session:encode-url($url as xs:anyURI) as xs:anyURI</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Encodes the specified URL with the current HTTP session-id.</xqdoc:description>
                <xqdoc:param>$url The URL to encode</xqdoc:param>
                <xqdoc:return>xs:anyURI : the encoded URL</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:get-id</xqdoc:name>
            <xqdoc:signature>session:get-id() as xs:string?</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Returns the ID of the current session or an empty sequence if there is no session.</xqdoc:description>
                <xqdoc:return>xs:string? : the session ID</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:get-attribute</xqdoc:name>
            <xqdoc:signature>session:get-attribute($name as xs:string) as item()*</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Returns an attribute stored in the current session object or an empty sequence if the attribute cannot be found.</xqdoc:description>
                <xqdoc:param>$name The session attribute name</xqdoc:param>
                <xqdoc:return>item()* : the attribute value</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:remove-attribute</xqdoc:name>
            <xqdoc:signature>session:remove-attribute($name as xs:string) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Removes the attribute with the supplied name from the current session</xqdoc:description>
                <xqdoc:param>$name The attribute name</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:get-attribute-names</xqdoc:name>
            <xqdoc:signature>session:get-attribute-names() as xs:string*</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Returns a sequence containing the names of all session attributes defined within the current HTTP session.</xqdoc:description>
                <xqdoc:return>xs:string* : the list of attribute names</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:get-creation-time</xqdoc:name>
            <xqdoc:signature>session:get-creation-time() as xs:dateTime</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Returns the time when this session was created. If a session does not exist, a new one is created. If the session is already invalidated, it returns January 1, 1970 GMT</xqdoc:description>
                <xqdoc:return>xs:dateTime : the date-time when the session was created</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:get-last-accessed-time</xqdoc:name>
            <xqdoc:signature>session:get-last-accessed-time() as xs:dateTime</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Returns the last time the client sent a request associated with this session. If a session does not exist, a new one is created. Actions that your application takes, such as getting or setting a value associated with the session, do not affect the access time.  If the session is already invalidated, it returns January 1, 1970 GMT</xqdoc:description>
                <xqdoc:return>xs:dateTime : the date-time when the session was last accessed</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:get-max-inactive-interval</xqdoc:name>
            <xqdoc:signature>session:get-max-inactive-interval() as xs:int</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Returns the maximum time interval, in seconds, that the servlet container will keep this session open between client accesses. After this interval, the servlet container will invalidate the session. The maximum time interval can be set with the session:set-max-inactive-interval function. A negative time indicates the session should never timeout. </xqdoc:description>
                <xqdoc:return>xs:int : the maximum time interval, in seconds</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:set-max-inactive-interval</xqdoc:name>
            <xqdoc:signature>session:set-max-inactive-interval($interval as xs:int) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Sets the maximum time interval, in seconds, that the servlet container will keep this session open between client accesses. After this interval, the servlet container will invalidate the session. A negative time indicates the session should never timeout. </xqdoc:description>
                <xqdoc:param>$interval The maximum inactive interval (in seconds) before closing the session</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:invalidate</xqdoc:name>
            <xqdoc:signature>session:invalidate() as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Invalidate (remove) the current HTTP session if present</xqdoc:description>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:set-attribute</xqdoc:name>
            <xqdoc:signature>session:set-attribute($name as xs:string, $value as item()*) as empty-sequence()</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Stores a value in the current session using the supplied attribute name. If no session exists, then one will be created.</xqdoc:description>
                <xqdoc:param>$name The attribute name</xqdoc:param>
                <xqdoc:param>$value* The value to be stored in the session by the attribute name</xqdoc:param>
                <xqdoc:return>empty-sequence()</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:set-current-user</xqdoc:name>
            <xqdoc:signature>session:set-current-user($user-name as xs:string, $password as xs:string) as xs:boolean</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Change the user identity for the current HTTP session. Subsequent XQueries in the session will run with the new user identity.</xqdoc:description>
                <xqdoc:param>$user-name The user name</xqdoc:param>
                <xqdoc:param>$password The password</xqdoc:param>
                <xqdoc:return>xs:boolean : true if the user name and password represent a valid user</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>session:exists</xqdoc:name>
            <xqdoc:signature>session:exists() as xs:boolean</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>Returns whether a session object exists.</xqdoc:description>
                <xqdoc:return>xs:boolean : true if the session object exists</xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
    </xqdoc:functions>
</xqdoc:xqdoc>